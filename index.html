<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">Stochastic Optimization and Learning Lab</title>
  <link rel="icon" href="images/sol.jpeg" type="image/jpeg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
    const savedTheme = localStorage.getItem('theme');
if (savedTheme === 'dark') {
  document.documentElement.classList.add('dark');
} else {
  document.documentElement.classList.remove('dark'); // Default is light
}
  </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-white font-inter">

  <!-- Navigation -->
  <header class="sticky top-0 bg-white dark:bg-gray-900 shadow z-50">
    <nav class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center gap-3">
        <img src="images/sol.jpeg" alt="Lab Logo" class="w-10 h-10 rounded-full" />
        <a href="index.html" class="leading-tight hover:text-blue-500 transition">
          <div class="text-2xl font-bold" data-i18n="labname">SOL Lab</div>
          <div class="text-sm text-gray-500 dark:text-gray-300" data-i18n="lab_affil">at SKKU</div>
        </a>
       </div>
      <!-- Hamburger button (shown on mobile only) -->
      <button class="md:hidden text-2xl" onclick="toggleMobileNav()">‚ò∞</button>
  
      <!-- Links container -->
      <div id="navLinks" class="hidden md:flex md:items-center gap-6 flex-col md:flex-row absolute md:static top-20 left-0 w-full md:w-auto bg-white dark:bg-gray-900 p-4 md:p-0 z-40">
      <!-- Navigation links adjusted for responsiveness -->
      <ul class="flex gap-6 md:flex-row flex-col md:gap-6 mt-4 md:mt-0">
        <li><a href="index.html" class="hover:text-blue-500 font-semibold underline" data-i18n="nav_home">Home</a></li>
        <li><a href="people.html" class="hover:text-blue-500" data-i18n="nav_people">People</a></li>
        <li><a href="research.html" class="hover:text-blue-500" data-i18n="nav_research">Research</a></li>
        <li><a href="publications.html" class="hover:text-blue-500" data-i18n="nav_publications">Publications</a></li>
        <li><a href="projects.html" class="hover:text-blue-500" data-i18n="nav_projects">Projects</a></li>
        <li><a href="teaching.html" class="hover:text-blue-500" data-i18n="nav_teaching">Teaching</a></li>
        <li><a href="notices.html" class="hover:text-blue-500" data-i18n="nav_notice">Board</a></li>
      </ul>
      <div class="flex gap-2">
        <button onclick="toggleLanguage()" class="text-sm border px-2 py-1 rounded" id="langBtn">üá∞üá∑</button>
        <button onclick="toggleDarkMode()" class="text-sm border px-2 py-1 rounded" id="darkToggle">üåô</button>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="py-20 bg-white dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-center gap-10">
      <img src="images/sol.jpeg" alt="SOL Lab Logo" class="w-48 h-48 rounded-2xl shadow-lg" />
      <div class="text-center md:text-left">
        <h1 class="text-4xl font-extrabold mb-4" data-i18n="heading"></h1>
        <p class="text-lg" data-i18n="intro"></p>
      </div>
    </div>
  </section>

  <!-- News Section -->
  <section id="news" class="py-16 bg-gray-100 dark:bg-gray-800 px-4">
    <div class="max-w-5xl mx-auto">
      <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="news">News</h2>
      <div id="news-container" class="space-y-4"></div>
    </div>
  </section>

  <!-- Contact Information Section -->
<div id="contact-info" class="fixed bottom-10 right-10 bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-lg z-50 max-w-xs">
  <button onclick="closeContactInfo()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold">&times;</button>
  <div class="text-xs md:text-sm text-center md:text-left">
    <h2 class="text-xl font-bold mb-2" data-i18n="contact">Contact Information</h2>
    <p class="mb-4">
      <span data-i18n="university">Sungkyunkwan University</span><br>
      <span data-i18n="address">Engineering Building II, Seobu-ro 2066, Jangan-gu, Suwon, Gyeonggi, Korea (16419)</span><br>
      <span data-i18n="lab">Lab: #27415, Engineering Building II</span><br>
      <span data-i18n="tel">Tel: +82 31-290-7612</span><br>
      <span data-i18n="email">Email:</span>
      <a href="mailto:janghopark@skku.edu" class="text-blue-500 hover:underline">janghopark@skku.edu</a>
    </p>

    <!-- üìç Google Map (Korean) -->
    <div id="map-ko" class="flex flex-col items-center mt-3 hidden">
      <div onclick="document.getElementById('map-modal-ko').classList.remove('hidden')" class="cursor-pointer">
        <iframe 
          title="SKKU ÏßÄÎèÑ (ÌïúÍ∏Ä)"
          src="https://www.google.com/maps?q=Engineering+Building+II,+Sungkyunkwan+University,+Suwon,+South+Korea&hl=ko&output=embed"
          width="180" height="100" style="border:0; border-radius: 6px; pointer-events: none;" allowfullscreen loading="lazy"></iframe>
      </div>
    </div>

    <!-- üìç Google Map (English) -->
    <div id="map-en" class="flex flex-col items-center mt-3 hidden">
      <div onclick="document.getElementById('map-modal-en').classList.remove('hidden')" class="cursor-pointer">
        <iframe 
          title="SKKU Map (English)"
          src="https://www.google.com/maps?q=Engineering+Building+II,+Sungkyunkwan+University,+Suwon,+South+Korea&hl=en&output=embed"
          width="180" height="100" style="border:0; border-radius: 6px; pointer-events: none;" allowfullscreen loading="lazy"></iframe>
      </div>
    </div>
  </div>
</div>

<!-- üó∫Ô∏è Map Modal (Korean) -->
<div id="map-modal-ko" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center">
  <div class="bg-white dark:bg-gray-900 rounded-xl shadow-lg max-w-4xl w-full h-[80vh] relative">
    <button onclick="document.getElementById('map-modal-ko').classList.add('hidden')" class="absolute top-2 right-4 text-gray-500 hover:text-red-500 text-2xl font-bold">&times;</button>
    <iframe 
      title="SKKU ÏßÄÎèÑ Ï†ÑÏ≤¥ Î≥¥Í∏∞"
      src="https://www.google.com/maps?q=Engineering+Building+II,+Sungkyunkwan+University,+Suwon,+South+Korea&hl=ko&output=embed"
      width="100%" height="100%" style="border:0; border-radius: 0 0 1rem 1rem;" allowfullscreen loading="lazy"></iframe>
  </div>
</div>

<!-- üó∫Ô∏è Map Modal (English) -->
<div id="map-modal-en" class="hidden fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center">
  <div class="bg-white dark:bg-gray-900 rounded-xl shadow-lg max-w-4xl w-full h-[80vh] relative">
    <button onclick="document.getElementById('map-modal-en').classList.add('hidden')" class="absolute top-2 right-4 text-gray-500 hover:text-red-500 text-2xl font-bold">&times;</button>
    <iframe 
      title="SKKU Full Map View"
      src="https://www.google.com/maps?q=Engineering+Building+II,+Sungkyunkwan+University,+Suwon,+South+Korea&hl=en&output=embed"
      width="100%" height="100%" style="border:0; border-radius: 0 0 1rem 1rem;" allowfullscreen loading="lazy"></iframe>
  </div>
</div>

<script>
  function toggleMapByLang(lang) {
    const mapKo = document.getElementById('map-ko');
    const mapEn = document.getElementById('map-en');
    if (mapKo && mapEn) {
      mapKo.classList.toggle('hidden', lang !== 'ko');
      mapEn.classList.toggle('hidden', lang !== 'en');
    }
  }

  window.addEventListener("DOMContentLoaded", () => {
    const lang = localStorage.getItem("lang") || "en";
    toggleMapByLang(lang);

    if (typeof setLanguage === "function") {
      const originalSetLanguage = setLanguage;
      setLanguage = function(lang) {
        originalSetLanguage(lang);
        toggleMapByLang(lang);
      };
    }
  });

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape') {
      document.getElementById('map-modal-ko')?.classList.add('hidden');
      document.getElementById('map-modal-en')?.classList.add('hidden');
    }
  });
</script>

  <!-- Footer -->
  <footer class="bg-white dark:bg-gray-900 border-t py-6 mt-20 text-center">
    <div class="flex flex-col items-center space-y-2">
      <img src="images/skku.png" alt="SKKU Logo" class="h-12" />
      <p class="text-sm">&copy; 2025 Stochastic Optimization and Learning Lab</p>
      <p class="text-sm">
        <a href="https://www.skku.edu" class="text-blue-500 hover:underline" target="_blank">Sungkyunkwan University</a>
      </p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    const translations = {
      
      ko: {
        title: "Ìôà | ÏµúÏ†ÅÌôî Ïó∞Íµ¨Ïã§",
        labname: "ÏµúÏ†ÅÌôî Ïó∞Íµ¨Ïã§",
        lab_affil: "ÏÑ±Í∑†Í¥ÄÎåÄÌïôÍµê",
        heading: "ÏÑ±Í∑†Í¥ÄÎåÄÌïôÍµê ÌôïÎ•†Í∏∞Î∞ò ÏµúÏ†ÅÌôî Ïó∞Íµ¨Ïã§Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§!",
        intro: "ÌôïÎ•†Í∏∞Î∞ò ÏµúÏ†ÅÌôî Ïó∞Íµ¨Ïã§ÏùÄ Î∂àÌôïÏã§ÏÑ± ÌïòÏóêÏÑúÏùò ÏùòÏÇ¨ Í≤∞Ï†ïÏùÑ Ïö¥Ïö© Í≥ºÌïô(Operations research), ÏàòÎ¶¨ ÏµúÏ†ÅÌôî Î∞è Í∏∞Í≥Ñ ÌïôÏäµ Í∏∞Ïà†ÏùÑ ÌÜµÌï¥ Ìï¥Í≤∞ÌïòÎäî Ïù¥Î°† Î∞è Ïã§Ï†ú Î¨∏Ï†úÏóê ÏßëÏ§ëÌïòÍ≥† ÏûàÏäµÎãàÎã§. Ïö¥Ïö© Í≥ºÌïô, ÏàòÎ¶¨ ÏµúÏ†ÅÌôî, Í∑∏Î¶¨Í≥† Ïù∏Í≥µÏßÄÎä•ÏùÑ Í≤∞Ìï©Ìïú ÌòÅÏã†Ï†ÅÏù∏ ÏÜîÎ£®ÏÖòÏùÑ Í∞úÎ∞úÌïòÏó¨ ÏÇ∞ÏóÖÍ≥º Ïó∞Íµ¨ÏûêÎì§Ïù¥ ÏßÅÎ©¥Ìïú Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÎäî Í≤ÉÏù¥ Ïö∞Î¶¨Ïùò Î™©ÌëúÏûÖÎãàÎã§.",
        contact: "Ïó∞ÎùΩÏ≤ò Ï†ïÎ≥¥",
        university: "ÏÑ±Í∑†Í¥ÄÎåÄÌïôÍµê",
        address: "Í≤ΩÍ∏∞ÎèÑ ÏàòÏõêÏãú Ïû•ÏïàÍµ¨ ÏÑúÎ∂ÄÎ°ú 2066 (16419)",
        lab: "Ïã§ÌóòÏã§: #27415, Í≥µÌïôÍ¥Ä 2Ï∏µ",
        contact_button: "Ïó∞ÎùΩÏ≤ò", // üëà Korean for Contact
        tel: "Ï†ÑÌôî: +82 31-290-7612",
        email: "Ïù¥Î©îÏùº:",
        news: "Îâ¥Ïä§",
        nav_home: "Ìôà",
        nav_people: "Ïó∞Íµ¨ÏßÑ",
        nav_research: "Ïó∞Íµ¨",
        nav_publications: "ÎÖºÎ¨∏",
        nav_projects: "ÌîÑÎ°úÏ†ùÌä∏",
        nav_teaching: "Í∞ïÏùò",
        nav_notice: "Í≤åÏãúÌåê",
        news_link: "ÏûêÏÑ∏Ìûà Î≥¥Í∏∞",
        view_map: "ÏßÄÎèÑ ÌÅ¨Í≤å Î≥¥Í∏∞",
      },
      en: {
        title: "Home | SOL Lab",
        labname: "SOL Lab",
        lab_affil: "at SKKU",
        heading: "Welcome to the Stochastic Optimization and Learning Laboratory at Sungkyunkwan University!",
        intro: "The Stochastic Optimization and Learning Lab focuses on theoretical and practical problems that address decision-making under uncertainty using Operations Research (OR), Mathematical Optimization (MO), and Artificial intelligence (AI). Our goal is to develop innovative solutions that combine operations research, mathematical optimization, and machine learning to solve problems faced by industry and researchers.",
        contact: "Contact Information",
        university: "Sungkyunkwan University",
        address: "2066, Seobu-ro, Jangan-gu, Suwon, Gyeonggi, Korea (16419)",
        lab: "Lab: #27415, Engineering Building II",
        tel: "Tel: +82 31-290-7612",
        email: "Email:",
        contact_button: "Contact",
        news: "News",
        nav_home: "Home",
        nav_people: "People",
        nav_research: "Research",
        nav_publications: "Publications",
        nav_projects: "Projects",
        nav_teaching: "Teaching",
        nav_notice: "Board",
        news_link: "View more",
        view_map: "View Large Map",
      }
    };

    function renderNews(lang) {
      fetch('news.json?cb=' + new Date().getTime())  // üëà cache-busting here
    .then(res => res.json())
    .then(news => {
      const container = document.getElementById('news-container');
      if (!container) return;
      container.innerHTML = '';

      const filteredNews = news.filter(item => item.tag === "news");

      filteredNews.forEach(item => {
        const div = document.createElement('div');
        div.className = 'bg-white dark:bg-gray-900 rounded-lg shadow-sm p-3 text-sm'; // Ï†ÅÎãπÌïú ÌÅ¨Í∏∞

        let imageGallery = '';
        if (item.images && item.images.length) {
          imageGallery = `<div class="flex gap-2 mt-2 flex-wrap">` +
            item.images.map(img => `
              <img src="${img}" 
                   class="w-24 h-24 rounded object-cover cursor-pointer"
                   onclick="openModal('${img}')">`
            ).join('') +
            `</div>`;
        }

        div.innerHTML = `
          <h2 class="text-sm font-semibold mb-1">[${item.date}] ${item.title[lang]}</h2>
          <p class="text-sm text-gray-400 dark:text-gray-300 mb-1">${item.description[lang]}</p>
          ${item.link ? `<a href="${item.link}" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:underline text-sm">üîó ${translations[lang]['news_link']}</a>` : ''}
          ${imageGallery}
        `;
        container.appendChild(div);
      });
    })
    .catch(error => console.error('Error loading news:', error));
}

    function setLanguage(lang) {
      localStorage.setItem('lang', lang);
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) el.textContent = translations[lang][key];
      });
      document.title = translations[lang]['title'] || document.title;
      document.getElementById('langBtn').textContent = lang === 'ko' ? 'üá∫üá∏' : 'üá∞üá∑';
      renderNews(lang);
    }

    function toggleLanguage() {
      const current = localStorage.getItem('lang') || 'en';
      setLanguage(current === 'en' ? 'ko' : 'en');
    }

    function toggleDarkMode() {
      const html = document.documentElement;
      const icon = document.getElementById('darkToggle');
      const isDark = html.classList.contains('dark');
      html.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'light' : 'dark');
      icon.textContent = isDark ? 'üåô' : '‚òÄÔ∏è';
    }

    window.addEventListener('DOMContentLoaded', () => {
      const icon = document.getElementById('darkToggle');
      icon.textContent = document.documentElement.classList.contains('dark') ? '‚òÄÔ∏è' : 'üåô';
      const lang = localStorage.getItem('lang') || 'en';
      setLanguage(lang);
    });
  </script>
<!-- Image Modal -->
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 hidden justify-center items-center z-50">
  <span class="absolute top-5 right-5 text-white text-2xl cursor-pointer" onclick="closeModal()">‚úï</span>
  <img id="modalImg" class="max-h-[90%] max-w-[90%] rounded-lg shadow-lg" />
</div>

<script>
  function openModal(imgSrc) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');
    modalImg.src = imgSrc;
    modal.classList.remove('hidden');
    modal.classList.add('flex');
  }

  function closeModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.remove('flex');
    modal.classList.add('hidden');
  }
</script>
<script>
  function closeContactInfo() {
    const contact = document.getElementById('contact-info');
    const toggleBtn = document.getElementById('contactToggleBtn');
    contact.classList.add('hidden');
    toggleBtn.classList.remove('hidden');

    // Set text based on language
    const lang = localStorage.getItem('lang') || 'en';
    toggleBtn.textContent = `üì¨ ${translations[lang]['contact_button']}`;
  }
  function toggleMobileNav() {
  const nav = document.getElementById('navLinks');
  nav.classList.toggle('hidden');
}
function toggleContactInfo() {
    const contact = document.getElementById('contact-info');
    const toggleBtn = document.getElementById('contactToggleBtn');
    contact.classList.remove('hidden');
    toggleBtn.classList.add('hidden');
  }
</script>
<!-- Contact Info Reopen Button (Bottom Right) -->
<button onclick="toggleContactInfo()" 
        id="contactToggleBtn"
        class="fixed bottom-10 right-10 z-50 bg-blue-600 text-white px-3 py-1 rounded shadow-lg hover:bg-blue-700 hidden"
        data-i18n="contact_button">
  üì¨ Contact
</button>
</body>
</html>