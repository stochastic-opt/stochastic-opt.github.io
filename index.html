<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title data-i18n="title">Stochastic Optimization and Learning Lab</title>
  <link rel="icon" href="images/sol.jpeg" type="image/jpeg">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = { darkMode: 'class' };
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
      document.documentElement.classList.add('dark');
    } else {
      document.documentElement.classList.remove('dark');
    }
  </script>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-800 dark:text-white font-inter">

  <!-- Navigation -->
  <header class="sticky top-0 bg-white dark:bg-gray-900 shadow z-50">
    <nav class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center gap-2">
        <img src="images/sol.jpeg" alt="Lab Logo" class="w-10 h-10 rounded-full" />
        <a href="index.html" class="text-2xl font-bold hover:text-blue-500 transition" data-i18n="labname">SOL Lab</a>
      </div>
      <!-- Hamburger button (shown on mobile only) -->
      <button class="md:hidden text-2xl" onclick="toggleMobileNav()">☰</button>
  
      <!-- Links container -->
      <div id="navLinks" class="hidden md:flex md:items-center gap-6 flex-col md:flex-row absolute md:static top-20 left-0 w-full md:w-auto bg-white dark:bg-gray-900 p-4 md:p-0 z-40">
      <!-- Navigation links adjusted for responsiveness -->
      <ul class="flex gap-6 md:flex-row flex-col md:gap-6 mt-4 md:mt-0">
        <li><a href="index.html" class="hover:text-blue-500 font-semibold underline" data-i18n="nav_home">Home</a></li>
        <li><a href="people.html" class="hover:text-blue-500" data-i18n="nav_people">People</a></li>
        <li><a href="research.html" class="hover:text-blue-500" data-i18n="nav_research">Research</a></li>
        <li><a href="publications.html" class="hover:text-blue-500" data-i18n="nav_publications">Publications</a></li>
        <li><a href="projects.html" class="hover:text-blue-500" data-i18n="nav_projects">Projects</a></li>
        <li><a href="teaching.html" class="hover:text-blue-500" data-i18n="nav_teaching">Teaching</a></li>
        <li><a href="notices.html" class="hover:text-blue-500" data-i18n="nav_notice">Board</a></li>
      </ul>
      <div class="flex gap-2">
        <button onclick="toggleLanguage()" class="text-sm border px-2 py-1 rounded" id="langBtn">🇰🇷</button>
        <button onclick="toggleDarkMode()" class="text-sm border px-2 py-1 rounded" id="darkToggle">🌙</button>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="py-20 bg-white dark:bg-gray-800">
    <div class="max-w-7xl mx-auto px-4 flex flex-col md:flex-row items-center gap-10">
      <img src="images/sol.jpeg" alt="SOL Lab Logo" class="w-48 h-48 rounded-2xl shadow-lg" />
      <div class="text-center md:text-left">
        <h1 class="text-4xl font-extrabold mb-4" data-i18n="heading"></h1>
        <p class="text-lg" data-i18n="intro"></p>
      </div>
    </div>
  </section>

  <!-- News Section -->
  <section id="news" class="py-16 bg-gray-100 dark:bg-gray-800 px-4">
    <div class="max-w-5xl mx-auto">
      <h2 class="text-3xl font-bold mb-8 text-center" data-i18n="news">News</h2>
      <div id="news-container" class="space-y-6"></div>
    </div>
  </section>

  <!-- Contact Information Section -->
<div id="contact-info" class="fixed bottom-10 right-10 bg-gray-100 dark:bg-gray-800 p-6 rounded-lg shadow-lg z-50 max-w-xs">
  <button onclick="closeContactInfo()" class="absolute top-2 right-2 text-gray-500 hover:text-red-500 text-xl font-bold">&times;</button>
  <div class="text-xs md:text-sm text-center md:text-left">
    <h2 class="text-xl font-bold mb-2" data-i18n="contact">Contact Information</h2>
    <p class="mb-2">
      <span data-i18n="university">Sungkyunkwan University</span><br>
      <span data-i18n="address">2066, Seobu-ro, Jangan-gu, Suwon, Gyeonggi, Korea (16419)</span><br>
      <span data-i18n="lab">Lab: #27415, Engineering Building II</span><br>
      <span data-i18n="tel">Tel: +82 31-290-7612</span><br>
      <span data-i18n="email">Email:</span>
      <a href="mailto:stochastic.optimization.lab@gmail.com" class="text-blue-500 hover:underline">stochastic.optimization.lab@gmail.com</a>
    </p>
    <div class="text-center md:text-left">
      <a href="https://scholar.google.com/citations?user=8-OqOhgAAAAJ&hl=en&oi=ao" class="text-blue-500 hover:underline text-xs">Google Scholar</a> |
      <a href="https://www.genealogy.math.ndsu.nodak.edu/id.php?id=248694" class="text-blue-500 hover:underline text-xs">Mathematics Genealogy</a> |
      <a href="https://www.linkedin.com/in/jpoptimization/" class="text-blue-500 hover:underline text-xs">LinkedIn</a>
    </div>
  </div>
</div>

  <!-- Footer -->
  <footer class="bg-white dark:bg-gray-900 border-t py-6 mt-20 text-center">
    <div class="flex flex-col items-center space-y-2">
      <img src="images/skku.png" alt="SKKU Logo" class="h-12" />
      <p class="text-sm">&copy; 2025 Stochastic Optimization and Learning Lab</p>
      <p class="text-sm">
        <a href="https://www.skku.edu" class="text-blue-500 hover:underline" target="_blank">Sungkyunkwan University</a>
      </p>
    </div>
  </footer>

  <!-- Script -->
  <script>
    const translations = {
      ko: {
        title: "홈 | 최적화 연구실",
        labname: "최적화 연구실",
        heading: "성균관대학교 확률기반 최적화 연구실에 오신 것을 환영합니다!",
        intro: "확률기반 최적화 연구실은 불확실성 하에서의 의사 결정을 운용 과학(Operations research), 수리 최적화 및 기계 학습 기술을 통해 해결하는 이론 및 실제 문제에 집중하고 있습니다. 운용 과학, 수리 최적화, 그리고 기계 학습을 결합한 혁신적인 솔루션을 개발하여 산업과 연구자들이 직면한 문제를 해결하는 것이 우리의 목표입니다.",
        contact: "연락처 정보",
        university: "성균관대학교",
        address: "경기도 수원시 장안구 서부로 2066 (16419)",
        lab: "실험실: #27415, 공학관 2층",
        contact_button: "연락처", // 👈 Korean for Contact
        tel: "전화: +82 31-290-7612",
        email: "이메일:",
        news: "뉴스",
        nav_home: "홈",
        nav_people: "연구진",
        nav_research: "연구",
        nav_publications: "논문",
        nav_projects: "프로젝트",
        nav_teaching: "강의",
        nav_notice: "게시판",
        news_link: "자세히 보기",
      },
      en: {
        title: "Home | SOL Lab",
        labname: "SOL Lab",
        heading: "Welcome to the Stochastic Optimization and Learning Laboratory at Sungkyunkwan University!",
        intro: "The Stochastic Optimization and Learning Lab focuses on theoretical and practical problems that address decision-making under uncertainty using operations research, mathematical optimization, and machine learning techniques. Our goal is to develop innovative solutions that combine operations research, mathematical optimization, and machine learning to solve problems faced by industry and researchers.",
        contact: "Contact Information",
        university: "Sungkyunkwan University",
        address: "2066, Seobu-ro, Jangan-gu, Suwon, Gyeonggi, Korea (16419)",
        lab: "Lab: #27415, Engineering Building II",
        tel: "Tel: +82 31-290-7612",
        email: "Email:",
        contact_button: "Contact",
        news: "News",
        nav_home: "Home",
        nav_people: "People",
        nav_research: "Research",
        nav_publications: "Publications",
        nav_projects: "Projects",
        nav_teaching: "Teaching",
        nav_notice: "Board",
        news_link: "View more",
      }
    };

    function renderNews(lang) {
      fetch('news.json')
        .then(res => res.json())
        .then(news => {
          const container = document.getElementById('news-container');
          if (!container) return;
          container.innerHTML = '';

          const filteredNews = news.filter(item => item.tag === "news");

          filteredNews.forEach(item => {
            const div = document.createElement('div');
            div.className = 'bg-white dark:bg-gray-900 rounded-xl shadow-md p-4';

            let imageGallery = '';
            if (item.images && item.images.length) {
              imageGallery = `<div class="flex gap-2 mt-2 flex-wrap">` +
                item.images.map(img => `
                  <img src="${img}" 
                       class="w-24 h-24 rounded cursor-pointer object-cover"
                       onclick="openModal('${img}')">`
                ).join('') +
                `</div>`;
            }

            div.innerHTML = `
              <h2 class="text-lg font-semibold mb-1">[${item.date}] ${item.title[lang]}</h2>
              <p class="text-sm mb-2">${item.description[lang]}</p>
              ${item.link ? `<a href="${item.link}" target="_blank" rel="noopener noreferrer" class="text-blue-500 hover:underline text-sm block mt-2">🔗 ${translations[lang]['news_link']}</a>` : ''}
              ${imageGallery}
            `;
            container.appendChild(div);
          });
        })
        .catch(error => console.error('Error loading news:', error));
    }

    function setLanguage(lang) {
      localStorage.setItem('lang', lang);
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (translations[lang][key]) el.textContent = translations[lang][key];
      });
      document.title = translations[lang]['title'] || document.title;
      document.getElementById('langBtn').textContent = lang === 'ko' ? '🇺🇸' : '🇰🇷';
      renderNews(lang);
    }

    function toggleLanguage() {
      const current = localStorage.getItem('lang') || 'en';
      setLanguage(current === 'en' ? 'ko' : 'en');
    }

    function toggleDarkMode() {
      const html = document.documentElement;
      const icon = document.getElementById('darkToggle');
      const isDark = html.classList.contains('dark');
      html.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'light' : 'dark');
      icon.textContent = isDark ? '🌙' : '☀️';
    }

    window.addEventListener('DOMContentLoaded', () => {
      const icon = document.getElementById('darkToggle');
      icon.textContent = document.documentElement.classList.contains('dark') ? '☀️' : '🌙';
      const lang = localStorage.getItem('lang') || 'en';
      setLanguage(lang);
    });
  </script>
<!-- Image Modal -->
<div id="imageModal" class="fixed inset-0 bg-black bg-opacity-75 hidden justify-center items-center z-50">
  <span class="absolute top-5 right-5 text-white text-2xl cursor-pointer" onclick="closeModal()">✕</span>
  <img id="modalImg" class="max-h-[90%] max-w-[90%] rounded-lg shadow-lg" />
</div>

<script>
  function openModal(imgSrc) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImg');
    modalImg.src = imgSrc;
    modal.classList.remove('hidden');
    modal.classList.add('flex');
  }

  function closeModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.remove('flex');
    modal.classList.add('hidden');
  }
</script>
<script>
  function closeContactInfo() {
    const contact = document.getElementById('contact-info');
    const toggleBtn = document.getElementById('contactToggleBtn');
    contact.classList.add('hidden');
    toggleBtn.classList.remove('hidden');

    // Set text based on language
    const lang = localStorage.getItem('lang') || 'en';
    toggleBtn.textContent = `📬 ${translations[lang]['contact_button']}`;
  }
  function toggleMobileNav() {
  const nav = document.getElementById('navLinks');
  nav.classList.toggle('hidden');
}
function toggleContactInfo() {
    const contact = document.getElementById('contact-info');
    const toggleBtn = document.getElementById('contactToggleBtn');
    contact.classList.remove('hidden');
    toggleBtn.classList.add('hidden');
  }
</script>
<!-- Contact Info Reopen Button (Bottom Right) -->
<button onclick="toggleContactInfo()" 
        id="contactToggleBtn"
        class="fixed bottom-10 right-10 z-50 bg-blue-600 text-white px-3 py-1 rounded shadow-lg hover:bg-blue-700 hidden"
        data-i18n="contact_button">
  📬 Contact
</button>
</body>
</html>